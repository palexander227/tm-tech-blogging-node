(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{149:function(e,t,a){e.exports=a(309)},181:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){},288:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){"use strict";a.r(t);var n,r,c,s=a(0),l=a.n(s),o=a(29),i=a.n(o),m=a(6),u=(a(154),a(155),a(156),a(12)),d=a(47),p=a(135),f=a(136),E=a(24),v=[],b=a(4),g={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null,registered:!1},h={posts:[],post:null,loading:!0,error:{}},N={users:[],user:null,loading:!0,error:{}},y={comments:[],loading:!0,error:{}},O=Object(d.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALERT":return[].concat(Object(E.a)(e),[t.payload]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==t.payload}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADED":return Object(b.a)(Object(b.a)({},e),{},{user:t.payload,isAuthenticated:!0,loading:!1});case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":return localStorage.removeItem("token"),Object(b.a)(Object(b.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1});case"REGISTER_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{registered:!0});case"ENABLE_SIGNUP_LINK":return Object(b.a)(Object(b.a)({},e),{},{registered:t.payload});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POSTS":case"GET_TOP_POSTS":case"GET_TAG_POSTS":return Object(b.a)(Object(b.a)({},e),{},{posts:t.payload.posts,count:t.payload.count,loading:!1});case"GET_POST":return Object(b.a)(Object(b.a)({},e),{},{post:t.payload,loading:!1});case"ADD_POST":return Object(b.a)(Object(b.a)({},e),{},{loading:!1});case"DELETE_POST":return Object(b.a)(Object(b.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.payload})),loading:!1});case"POST_ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:t.payload,loading:!1});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS":return Object(b.a)(Object(b.a)({},e),{},{users:t.payload,loading:!1});case"GET_USER":return Object(b.a)(Object(b.a)({},e),{},{user:t.payload,loading:!1});case"USER_ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:t.payload,loading:!1});case"UPDATE_USER_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{user:t.payload});case"DELETE_USER_SUCCESS":return localStorage.removeItem("token"),Object(b.a)(Object(b.a)({},e),{},{user:null});default:return e}},comment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COMMENTS":return Object(b.a)(Object(b.a)({},e),{},{comments:t.payload,loading:!1});case"ADD_COMMENT":return Object(b.a)(Object(b.a)({},e),{},{comments:[t.payload].concat(Object(E.a)(e.comments)),loading:!1});case"DELETE_COMMENT":return Object(b.a)(Object(b.a)({},e),{},{comments:e.comments.filter((function(e){return e.id!==t.payload})),loading:!1});case"COMMENT_ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:t.payload,loading:!1});default:return e}}}),w=[f.a],x=Object(d.createStore)(O,{},Object(p.composeWithDevTools)(d.applyMiddleware.apply(void 0,w))),j=a(10),k=a.n(j),S=function(e){e?k.a.defaults.headers.common["x-auth-token"]=e:delete k.a.defaults.headers.common["x-auth-token"]},T=a(5),_=a.n(T),R=a(17),C=a(317),A=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=Object(C.a)();n({type:"SET_ALERT",payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return n({type:"REMOVE_ALERT",payload:r})}),a)}},I=function(){return function(){var e=Object(R.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("/api/user/auth");case 3:a=e.sent,t({type:"USER_LOADED",payload:a.data.user}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"AUTH_ERROR"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},P=a(15),U=a(7),L=a(8),M=a(20),F=a(21),D=a(67),B=function(e){var t=e.title;return l.a.createElement(D.a,null,l.a.createElement("title",null,t||"Tech Blog - Where Developers Learn, Share, & Build Careers"))},q=function(e){var t=e.component,a=e.title;return function(e){Object(M.a)(r,e);var n=Object(F.a)(r);function r(){return Object(U.a)(this,r),n.apply(this,arguments)}return Object(L.a)(r,[{key:"render",value:function(){return l.a.createElement(s.Fragment,null,l.a.createElement(B,{title:a}),l.a.createElement(t,this.props))}}]),r}(l.a.Component)},G=(a(181),function(){return l.a.createElement("div",{className:"side-bar-container"},l.a.createElement("div",{className:"side-bar-tabs"},l.a.createElement(m.c,{exact:!0,activeClassName:"active",className:"home-link nav_link",to:"/"},l.a.createElement("div",null,"Home")),l.a.createElement(m.c,{exact:!0,activeClassName:"active",className:"home-link nav_link",to:"/dashboard"},l.a.createElement("div",null,"Dashboard"))))}),H=function(e){var t=e.component;return function(e){Object(M.a)(n,e);var a=Object(F.a)(n);function n(){return Object(U.a)(this,n),a.apply(this,arguments)}return Object(L.a)(n,[{key:"render",value:function(){return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"page"},l.a.createElement(G,null),l.a.createElement("div",{id:"content"},l.a.createElement(t,this.props))))}}]),n}(l.a.Component)},W=a(22),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var a=Object(R.a)(_.a.mark((function a(n,r){var c,s;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r(),a.prev=1,a.next=4,k.a.get("/api/post/allpost?pageNo=".concat(t,"&userId=").concat(e));case 4:s=a.sent,t&&1!==t&&(s.data.posts=c.post.posts.concat(s.data.posts)),n({type:"GET_POSTS",payload:{posts:s.data.posts,count:s.data.count}}),a.next=11;break;case 9:a.prev=9,a.t0=a.catch(1);case 11:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e,t){return a.apply(this,arguments)}}()},$=function(e){return function(){var t=Object(R.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.get("/api/post/".concat(e));case 3:n=t.sent,a({type:"GET_POST",payload:n.data.post}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a(A(t.t0.response.data.message,"danger")),a({type:"POST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},z=a(42),K=a.n(z),J=(a(183),Object(u.b)(null)((function(e){var t=e.post,a=t.id,n=t.title,r=t.content,c=t.createdAt,s=t.user,o=s.firstName,i=s.lastName,u=t.image;return l.a.createElement("div",{className:"posts"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"profile-image"},o.charAt(0)+i.charAt(0)),l.a.createElement("div",{className:"user-info ml-2 my-auto"},o," ",i)),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement(m.b,{className:"title mb-2",to:"post/".concat(a)},n),l.a.createElement("div",{className:"content mb-2"},null===r||void 0===r?void 0:r.replace(/<[^>]*>/g,"").replace(/&nbsp;/g,"\n")),l.a.createElement("div",{className:"created-date"},K()(c).fromNow(!1))),u&&l.a.createElement("div",{className:"col-6"},l.a.createElement("img",{src:u,alt:"",className:"thumnail"}))))}))),Y=(a(184),["svgRef","title"]);function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var X,ee,te,ae=function(e){var t=e.svgRef,a=e.title,s=Z(e,Y);return l.a.createElement("svg",Q({style:{margin:"auto",background:"0 0",display:"block",shapeRendering:"auto"},width:"100%",height:"100%",preserveAspectRatio:"xMidYMid",viewBox:"0 0 100 100",ref:t},s),a?l.a.createElement("title",null,a):null,n||(n=l.a.createElement("rect",{width:15,height:40,x:17.5,y:30,fill:"#f9ba86"},l.a.createElement("animate",{attributeName:"y",begin:"-0.4s",calcMode:"spline",dur:"2s",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",keyTimes:"0;0.5;1",repeatCount:"indefinite",values:"10;30;30"}),l.a.createElement("animate",{attributeName:"height",begin:"-0.4s",calcMode:"spline",dur:"2s",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",keyTimes:"0;0.5;1",repeatCount:"indefinite",values:"80;40;40"}))),r||(r=l.a.createElement("rect",{width:15,height:40,x:42.5,y:30,fill:"#f69e55"},l.a.createElement("animate",{attributeName:"y",begin:"-0.2s",calcMode:"spline",dur:"2s",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",keyTimes:"0;0.5;1",repeatCount:"indefinite",values:"15;30;30"}),l.a.createElement("animate",{attributeName:"height",begin:"-0.2s",calcMode:"spline",dur:"2s",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",keyTimes:"0;0.5;1",repeatCount:"indefinite",values:"70;40;40"}))),c||(c=l.a.createElement("rect",{width:15,height:40,x:67.5,y:30,fill:"#f48024"},l.a.createElement("animate",{attributeName:"y",calcMode:"spline",dur:"2s",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",keyTimes:"0;0.5;1",repeatCount:"indefinite",values:"15;30;30"}),l.a.createElement("animate",{attributeName:"height",calcMode:"spline",dur:"2s",keySplines:"0 0.5 0.5 1;0 0.5 0.5 1",keyTimes:"0;0.5;1",repeatCount:"indefinite",values:"70;40;40"}))))},ne=l.a.forwardRef((function(e,t){return l.a.createElement(ae,Q({svgRef:t},e))})),re=(a.p,["svgRef","title"]);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var le=function(e){var t=e.svgRef,a=e.title,n=se(e,re);return l.a.createElement("svg",ce({width:30,height:30,fill:"#fff",viewBox:"0 0 120 30",ref:t},n),a?l.a.createElement("title",null,a):null,X||(X=l.a.createElement("circle",{cx:15,cy:15,r:15,fill:"#f9ba86"},l.a.createElement("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"0.8s",from:15,repeatCount:"indefinite",to:15,values:"15;9;15"}),l.a.createElement("animate",{attributeName:"fill-opacity",begin:"0s",calcMode:"linear",dur:"0.8s",from:1,repeatCount:"indefinite",to:1,values:"1;.5;1"}))),ee||(ee=l.a.createElement("circle",{cx:60,cy:15,r:9,fill:"#f69e55",fillOpacity:.3},l.a.createElement("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"0.8s",from:9,repeatCount:"indefinite",to:9,values:"9;15;9"}),l.a.createElement("animate",{attributeName:"fill-opacity",begin:"0s",calcMode:"linear",dur:"0.8s",from:.5,repeatCount:"indefinite",to:.5,values:".5;1;.5"}))),te||(te=l.a.createElement("circle",{cx:105,cy:15,r:15,fill:"#f48024"},l.a.createElement("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"0.8s",from:15,repeatCount:"indefinite",to:15,values:"15;9;15"}),l.a.createElement("animate",{attributeName:"fill-opacity",begin:"0s",calcMode:"linear",dur:"0.8s",from:1,repeatCount:"indefinite",to:1,values:"1;.5;1"}))))},oe=l.a.forwardRef((function(e,t){return l.a.createElement(le,ce({svgRef:t},e))})),ie=(a.p,function(e){var t=e.type,a=e.width,n=e.height;return l.a.createElement("div",{className:"spinner",style:{width:"".concat(a),height:"".concat(n)}},"page"===t?l.a.createElement(ne,null):l.a.createElement(oe,null))}),me=a(140),ue=(a(185),Object(u.b)((function(e){return{post:e.post,auth:e.auth}}),{getPosts:V})((function(e){var t=e.getPosts,a=e.post,n=a.posts,r=a.loading,c=a.count,o=e.match,i=e.auth,u=i.user,d=i.isAuthenticated,p=Object(s.useState)(!0),f=Object(W.a)(p,2),E=f[0],v=f[1],b=Object(s.useState)(2),g=Object(W.a)(b,2),h=g[0],N=g[1],y=Object(s.useState)(!1),O=Object(W.a)(y,2),w=O[0],x=O[1];Object(s.useEffect)((function(){"/dashboard"===o.url?(x(!0),u&&t(u.id)):(x(!1),t())}),[t,u,o.url]);return!w||d||r?r||null===n?l.a.createElement(ie,{type:"page",width:"75px",height:"200px"}):l.a.createElement(s.Fragment,null,l.a.createElement("div",{id:"mainbar",className:"homepage fc-black-800"},l.a.createElement("div",{class:"row float-right"},w&&l.a.createElement(m.b,{className:"btn btn-primary",to:"add/post"},"Create New Post")),l.a.createElement("div",{className:"questions"},l.a.createElement(me.a,{dataLength:n.length,next:function(){n.length>=c?v(!1):(N(h+1),t(w?u.id:null,h))},hasMore:E,loader:l.a.createElement("h4",null,"Loading...")},n.map((function(e){return l.a.createElement(J,{key:e.id,post:e})}))),!n.length&&l.a.createElement("div",{className:"text-center p-5"},"We couldn't found any blog")))):l.a.createElement(P.a,{to:"/login"})}))),de=a(14),pe=a(25),fe=(a(284),Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e){var t=e.username,a=e.password;return function(){var e=Object(R.a)(_.a.mark((function e(n){var r,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={username:t,password:a},e.prev=1,e.next=4,k.a.post("/api/user/login",r);case 4:c=e.sent,n({type:"LOGIN_SUCCESS",payload:c.data}),n(A(c.data.message,"success")),n(I()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),n(A("Username or password is incorrect","danger")),n({type:"LOGIN_FAIL"});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},register:function(e){var t=e.firstName,a=e.lastName,n=e.username,r=e.password;return function(){var e=Object(R.a)(_.a.mark((function e(c){var s,l;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={firstName:t,lastName:a,username:n,password:r},e.prev=1,e.next=4,k.a.post("/api/user/register",s);case 4:l=e.sent,c({type:"REGISTER_SUCCESS",payload:l.data}),c(A(l.data.message,"success")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),c(A(e.t0.response.data.message,"danger")),c({type:"REGISTER_FAIL"});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},enableSignupLink:function(e){return function(){var t=Object(R.a)(_.a.mark((function t(a){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"ENABLE_SIGNUP_LINK",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.register,a=e.login,n=e.action,r=e.enableSignupLink,c={username:"",password:""};"Sign up"===n&&(c=Object(b.a)(Object(b.a)({},c),{},{firstName:"",lastName:""}));var o={firstName:pe.b().required("Firstname is required"),lastName:pe.b().required("Lastname is required")},i=l.a.createElement(s.Fragment,null,"Already have an account?"," ",l.a.createElement(m.b,{to:"/login",name:"login"},"Log in")),u=l.a.createElement(s.Fragment,null,"Don't have an account?"," ",l.a.createElement(m.b,{to:"/register",name:"register",onClick:function(){return r(!1)}},"Sign up"));return l.a.createElement(s.Fragment,null,l.a.createElement("div",null,l.a.createElement("div",{className:"form-container"},l.a.createElement(de.d,{initialValues:c,onSubmit:function(e,r){"Sign up"===n?t(e):a(e),r.setSubmitting(!1)},validationSchema:pe.a().shape(Object(b.a)(Object(b.a)({},"Sign up"===n&&o),{},{username:pe.b().required("Username is required"),password:pe.b().required("Password is required").test("password","Password is not valid",(function(e){return/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,15}$/i.test(e)}))}))},(function(e){var t=e.errors,a=e.touched;return l.a.createElement(de.c,{className:"login-form"},"Sign up"===n&&function(e,t){return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"form-group mb-3"},l.a.createElement("label",{htmlFor:"firstName",className:"pb-2 font-weight-bold"},"Firstname"),l.a.createElement(de.b,{className:"form-control "+(e.firstName&&t.firstName?"invalid":""),type:"text",name:"firstName",id:"firstName"}),l.a.createElement(de.a,{name:"firstName",className:"formik-err-msg",component:"div"})),l.a.createElement("div",{className:"form-group mb-3"},l.a.createElement("label",{htmlFor:"lastName",className:"pb-2 font-weight-bold"},"Lastname"),l.a.createElement(de.b,{className:"form-control "+(e.lastName&&t.lastName?"invalid":""),type:"text",name:"lastName",id:"lastName"}),l.a.createElement(de.a,{name:"lastName",className:"formik-err-msg",component:"div"})))}(t,a),l.a.createElement("div",{className:"form-group mb-3"},l.a.createElement("label",{htmlFor:"username",className:"pb-2 font-weight-bold"},"Username"),l.a.createElement(de.b,{className:"form-control "+(t.username&&a.username?"invalid":""),type:"text",name:"username",id:"username"}),l.a.createElement(de.a,{name:"username",className:"formik-err-msg",component:"div"})),l.a.createElement("div",{className:"form-group mb-3"},l.a.createElement("label",{htmlFor:"password",className:"pb-2 font-weight-bold"},"Password"),l.a.createElement(de.b,{className:"form-control "+(t.password&&a.password?"invalid":""),type:"password",name:"password",id:"password"}),l.a.createElement(de.a,{name:"password",className:"formik-err-msg",component:"div"})),l.a.createElement("div",{className:"grid gs4 gsy fd-column js-auth-item "},l.a.createElement("button",{className:"s-btn s-btn__primary",id:"submit-button",name:"submit-button"},n)))})),l.a.createElement("div",{className:"fs-caption license fc-black-500"},"By clicking \u201c",n,"\u201d, you agree to our"," ",l.a.createElement(m.b,{to:"https://stackoverflow.com/legal/terms-of-service/public",className:"-link"},"terms of service"),","," ",l.a.createElement(m.b,{to:"https://stackoverflow.com/legal/privacy-policy",name:"privacy",className:"-link"},"privacy policy")," ","and"," ",l.a.createElement(m.b,{to:"https://stackoverflow.com/legal/cookie-policy",className:"-link"},"cookie policy"),l.a.createElement("input",{type:"hidden",name:"legalLinksShown",value:"1"}))),l.a.createElement("div",{className:"redirects fc-black-500"},"Sign up"===n?i:u)))}))),Ee=(a(285),Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,isRegistered:e.auth.registered}}),{setAlert:A})((function(e){var t=e.isAuthenticated,a=e.isRegistered;return t?l.a.createElement(P.a,{to:"/"}):a?l.a.createElement(P.a,{to:"/login"}):l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"auth-page"},l.a.createElement("div",{className:"register-content"},l.a.createElement("div",{className:"register-grid"},l.a.createElement(fe,{action:"Sign up"})))))}))),ve=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),null)((function(e){return e.isAuthenticated?l.a.createElement(P.a,{to:"/"}):l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"auth-page"},l.a.createElement("div",{className:"register-content"},l.a.createElement("div",{className:"register-grid"},l.a.createElement(fe,{action:"Log in"})))))})),be=function(e){return function(){var t=Object(R.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.get("/api/comments/".concat(e));case 3:n=t.sent,a({type:"GET_COMMENTS",payload:n.data.comments}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"COMMENT_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},ge=a(315),he=(a(286),Object(u.b)((function(e){return{post:e.post,comments:e.comment.comments,auth:e.auth}}),{getPost:$,getComments:be,addComment:function(e){return function(){var t=Object(R.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.post("/api/comments",e);case 3:n=t.sent,a({type:"ADD_COMMENT",payload:n.data.comment}),a(A(n.data.message,"success")),a(be(e.postId)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),a(A(t.t0.response.data.message,"danger")),a({type:"COMMENT_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},deleteComment:function(e){return function(){var t=Object(R.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.delete("/api/comments/".concat(e));case 3:n=t.sent,a({type:"DELETE_COMMENT",payload:e}),a(A(n.data.message,"success")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a(A(t.t0.response.data.message,"danger")),a({type:"COMMENT_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},deletePost:function(e){return function(){var t=Object(R.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.delete("/api/post/".concat(e));case 3:n=t.sent,a({type:"DELETE_POST",payload:e}),a(A(n.data.message,"success")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a(A(t.t0.response.data.message,"danger")),a({type:"POST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getPost,a=e.post,n=e.comments,r=e.match,c=e.getComments,o=e.addComment,i=e.deleteComment,m=e.deletePost,u=e.auth.user,d=a.loading,p=a.post,f=Object(s.useState)(""),E=Object(W.a)(f,2),v=E[0],b=E[1],g=Object(s.useState)(""),h=Object(W.a)(g,2),N=(h[0],h[1]),y=l.a.useRef(),O=l.a.useState("0px"),w=Object(W.a)(O,2),x=w[0],j=w[1],k="",S="";p&&p.user&&(k=p.user.firstName,S=p.user.lastName),Object(s.useEffect)((function(){t(r.params.id),c(r.params.id)}),[t]),Object(s.useEffect)((function(){if(p&&p.content){var e=function(e){var t=document.createElement("span");return t.innerHTML=e,t}(p.content),t=e.querySelectorAll("oembed");for(var a in t=Array.from(t)){var n=t[a].getAttribute("url");n=n.replace("watch?v=","embed/");var r=document.createElement("iframe");r.setAttribute("width","100%"),r.setAttribute("height","auto"),r.setAttribute("allowFullScreen",""),r.setAttribute("frameBorder",0),n&&r.setAttribute("src",n),t[a].parentNode.replaceChild(r,t[a])}var c=e.outerHTML;N(c);var s=document.getElementById("iframe").contentWindow.document;console.log(c),s.open(),s.write(c),s.close()}}),[p]);var T=l.a.forwardRef((function(e,t){var a=e.children,n=e.onClick;return l.a.createElement("i",{className:"fa fa-ellipsis-h my-auto ml-5","aria-hidden":"true",ref:t,onClick:function(e){e.preventDefault(),n(e)}},a)}));return d||null===p?l.a.createElement(ie,{type:"page",width:"75px",height:"200px"}):l.a.createElement(s.Fragment,null,l.a.createElement(B,{title:"".concat(p.title," - Tech Blog")}),l.a.createElement("div",{id:"mainbar",className:"post py-5"},l.a.createElement("div",{className:"row mx-0 mb-4"},l.a.createElement("div",{className:"profile-image"},k.charAt(0)+S.charAt(0)),l.a.createElement("div",{className:"user-info ml-2 my-auto"},k," ",S),l.a.createElement("div",{className:"created-date my-auto ml-2"},K()(p.createdAt).fromNow(!1)),u&&u.id===p.userId&&l.a.createElement(ge.a,{className:"my-auto"},l.a.createElement(ge.a.Toggle,{as:T,id:"dropdown-post"}),l.a.createElement(ge.a.Menu,null,l.a.createElement(ge.a.Item,{href:"/add/post/".concat(r.params.id)},"Edit"),l.a.createElement(ge.a.Item,{onClick:function(){return m(r.params.id)},href:"/"},"Delete")))),l.a.createElement("div",{className:"row mx-0 mb-3"},l.a.createElement("div",{className:"title col-12 mb-3"},p.title),l.a.createElement("div",{className:"content col-12"},l.a.createElement("iframe",{ref:y,onLoad:function(){console.log(y.current.style),y.current.style.height=y.current.contentWindow.document.body.scrollHeight+"px",j(y.current.contentWindow.document.body.scrollHeight+"px")},id:"iframe",width:"100%",height:x,scrolling:"no",frameBorder:"0",style:{width:"100%",overflow:"auto",height:{height:x}}}))),l.a.createElement("div",{className:"row mx-0 mb-3"},l.a.createElement("div",{className:"col-12"},l.a.createElement("i",{className:"fa fa-comment"}))),l.a.createElement("div",{className:"comments-section"},l.a.createElement("div",{className:"comment-enter mb-3"},l.a.createElement("div",{className:"row mx-0 mb-4"},l.a.createElement("div",{className:"profile-image mr-3 profile-25"},k.charAt(0)+S.charAt(0)),l.a.createElement("textarea",{className:"form-control col-10",name:"content",id:"comment-value",rows:"2",onChange:function(e){b(e.target.value)}})),l.a.createElement("button",{className:"btn btn-primary",onClick:function(e){v&&(o({content:v,postId:r.params.id}),b(""))}},"comment")),n.map((function(e){var t=e.user,n=t.firstName,r=t.lastName,c=e.createdAt,s=e.content,o=e.id;return l.a.createElement("div",{className:"comment-container mb-4"},l.a.createElement("div",{className:"row mx-0"},l.a.createElement("div",{className:"profile-image"},n.charAt(0)+r.charAt(0)),l.a.createElement("div",{className:"user-info ml-2 my-auto"},n," ",r),l.a.createElement("div",{className:"created-date my-auto ml-2"},K()(c).fromNow(!1)),u&&u.id===a.userId&&l.a.createElement(ge.a,{className:"my-auto"},l.a.createElement(ge.a.Toggle,{as:T,id:"dropdown-comment"}),l.a.createElement(ge.a.Menu,null,l.a.createElement(ge.a.Item,{onClick:function(){return i(o)}},"Delete")))),l.a.createElement("div",{className:"comment-content pl-4"},s))})))))}))),Ne=(a(288),a(147)),ye=a(148),Oe=a.n(ye),we=(a(301),function(e){return l.a.createElement(Ne.CKEditor,{editor:Oe.a,data:e.value,config:{ckfinder:{uploadUrl:"/api/post/file_upload?command=QuickUpload&type=Images&responseType=json",mediaEmbed:{previewsInData:!0}}},onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(t,a){var n=a.getData();e.handleChange(n),console.log({event:t,editor:a,data:n})},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})}),xe=(a(302),Object(u.b)((function(e){return{auth:e.auth,post:e.post}}),{addPost:function(e){return function(){var t=Object(R.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.post("/api/post",e);case 3:n=t.sent,a({type:"ADD_POST",payload:n.data.post}),a(A(n.data.message,"success")),a(V()),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),a(A(t.t0.response.data.message,"danger")),a({type:"POST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},updatePost:function(e,t){return function(){var a=Object(R.a)(_.a.mark((function a(n){var r;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.a.put("/api/post/".concat(t),e);case 3:r=a.sent,n({type:"UPDATE_POST",payload:r.data.post}),n(A(r.data.message,"success")),n(V()),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),n(A(a.t0.response.data.message,"danger")),n({type:"POST_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){e.auth.user;var t=e.addPost,a=e.updatePost,n=e.post.post,r=e.postId,c=Object(s.useState)(!1),o=Object(W.a)(c,2),i=o[0],m=o[1],u={title:null===n||void 0===n?void 0:n.title,content:null===n||void 0===n?void 0:n.content,image:null===n||void 0===n?void 0:n.image},d=pe.a().shape({title:pe.b().required("Title is required"),content:pe.b().required("content is required"),image:pe.b()});return i?l.a.createElement(P.a,{to:"/"}):l.a.createElement(s.Fragment,null,l.a.createElement(de.d,{enableReinitialize:!0,initialValues:u,onSubmit:function(e,n){var c=new FormData;c.append("title",e.title),c.append("content",e.content),c.append("postImage",e.postImage),r?a(c,r):t(c),n.setSubmitting(!1),m(!0)},validationSchema:d},(function(e){var t=e.errors,a=e.touched,n=e.setFieldValue,r=e.values;e.handleChange,e.handleBlur;return l.a.createElement(de.c,null,l.a.createElement("div",{className:"question-form p16 s-card"},l.a.createElement("div",{className:"question-layout"},l.a.createElement("div",{className:"title-grid"},l.a.createElement("label",{className:"form-label s-label"},l.a.createElement("span",{className:"field-title"},"Title"),l.a.createElement("div",{className:"title-desc fw-normal fs-caption"},"Be specific and imagine you\u2019re asking a question to another person")),l.a.createElement(de.b,{className:"form-control "+(t.title&&a.title?"invalid":""),type:"text",name:"title",id:"title",placeholder:"e.g. Is there an R function for finding the index of an element in a vector?"})),l.a.createElement("div",{className:"title-grid"},l.a.createElement("label",{className:"form-label s-label"},l.a.createElement("span",{className:"field-title"},"Image")),!r.image&&l.a.createElement("input",{type:"file",className:"form-control image-field",id:"postImage",name:"postImage",onChange:function(e){n("postImage",e.currentTarget.files[0])}}),r.image&&l.a.createElement("div",{class:"img-wrap"},l.a.createElement("span",{class:"close",onClick:function(){return function(e){e("image","")}(n)}},"\xd7"),l.a.createElement("img",{src:r.image,alt:""}))),l.a.createElement("div",{className:"body-grid"},l.a.createElement("label",{className:"form-label s-label fc-black-800"},l.a.createElement("span",{className:"field-title"},"Body"),l.a.createElement("div",{className:"body-desc fw-normal fs-caption fc-black-800"},"Include all the information someone would need to answer your question")),l.a.createElement("div",{className:"s-textarea rich-text-editor-container"},l.a.createElement(de.b,{component:we,name:"content",type:"content",render:function(e){var t=e.field,a=e.form;return l.a.createElement(we,Object.assign({},t,{handleChange:function(e){a.setFieldValue("content",e)}}))}}))))),l.a.createElement("div",{className:"post-button mt-4"},l.a.createElement("button",{className:"btn btn-primary w-25",id:"submit-button",name:"submit-button",type:"submit"},"Post")))})))}))),je=Object(u.b)((function(e){return{auth:e.auth}}),{getPost:$})((function(e){e.auth;var t=e.auth,a=t.isAuthenticated,n=t.loading,r=e.match,c=e.getPost;return Object(s.useEffect)((function(){c(r.params.id)}),[]),a||n?null===n?l.a.createElement(ie,{type:"page",width:"75px",height:"200px"}):l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"post-form-container"},l.a.createElement("div",{className:"post-form-content col-6 justify-content-center"},l.a.createElement("div",{className:"post-form-header"},l.a.createElement("div",{className:"post-form-headline fc-black-800"},"Create new blog")),l.a.createElement("div",{className:"post-form-section"},l.a.createElement("div",{className:"post-form",style:{width:"100%"}},l.a.createElement(xe,{postId:r.params.id})))))):l.a.createElement(P.a,{to:"/login"})})),ke=a(316),Se=a(146),Te=(a(303),Object(u.b)((function(e){return{user:e.user}}),{getUser:function(e){return function(){var t=Object(R.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.get("/api/user/".concat(e));case 3:n=t.sent,console.log(n.data),a({type:"GET_USER",payload:n.data.user}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"USER_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},updateUser:function(e){var t=e.firstName,a=e.lastName;return function(){var e=Object(R.a)(_.a.mark((function e(n){var r,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={firstName:t,lastName:a},e.prev=1,e.next=4,k.a.put("/api/user",r);case 4:c=e.sent,n({type:"UPDATE_USER_SUCCESS",payload:c.data.user}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n({type:"UPDATE_USER_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},deleteUser:function(){return function(){var e=Object(R.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.delete("/api/user");case 3:a=e.sent,t({type:"DELETE_USER_SUCCESS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"DELETE_USER_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getUser,a=e.updateUser,n=e.deleteUser,r=e.user,c=r.user,o=r.loading,i=e.match,u=Object(s.useState)(!1),d=Object(W.a)(u,2),p=d[0],f=d[1],E=Object(s.useState)(!1),v=Object(W.a)(E,2),b=v[0],g=v[1],h=function(){return g(!1)},N={firstName:null===c||void 0===c?void 0:c.firstName,lastName:null===c||void 0===c?void 0:c.lastName,username:null===c||void 0===c?void 0:c.username},y=pe.a().shape({firstName:pe.b().required("First Name is required"),lastName:pe.b().required("Last Name is required")});return Object(s.useEffect)((function(){t(i.params.id)}),[t]),o||null===c?l.a.createElement(ie,{type:"page",width:"75px",height:"200px"}):l.a.createElement(s.Fragment,null,l.a.createElement(B,{title:"User ".concat(c.username," - CLONE Stack Overflow")}),l.a.createElement("div",{id:"mainbar",className:"user-main-bar pl24 pt24"},l.a.createElement("div",{className:"user-card"},l.a.createElement("div",{className:"grid"},l.a.createElement("div",{className:"img-card"},l.a.createElement("div",{className:"avatar-card"},l.a.createElement("div",{className:"avatar"},l.a.createElement(m.b,{className:"avatar-link",to:"/users/".concat(c.id)},l.a.createElement("div",{className:"logo-wrapper"},l.a.createElement("div",{className:"profile-image-lg"},c.firstName.charAt(0)+c.lastName.charAt(0))))))),l.a.createElement("div",{className:"content-card py-4"},l.a.createElement("div",{className:"content-grid"},l.a.createElement("div",{className:"info-cell"},l.a.createElement("div",{className:"info"},l.a.createElement("div",{className:"details"},l.a.createElement("h2",null,c.username)),l.a.createElement("div",{className:"date"},l.a.createElement("div",null,"user created \xa0-\xa0",K()(c.createdAt).fromNow(!1))))),l.a.createElement("div",{className:"stats-cell"},l.a.createElement("div",{className:"count-sec"},l.a.createElement("div",{className:"counts"},l.a.createElement("div",{className:"cells"},l.a.createElement("div",{className:"column-grid"},l.a.createElement("div",{className:"head fc-black-700"},c.answer_count),l.a.createElement("button",{className:"btn btn-primary foot fc-black-500",onClick:function(){return f(!0)},disabled:p},"upodate"))),l.a.createElement("div",{className:"cells"},l.a.createElement("div",{className:"column-grid"},l.a.createElement("div",{className:"head fc-black-700"},c.post_count),l.a.createElement("button",{className:"btn btn-danger foot fc-black-500",onClick:function(){return g(!0)}},"delete")))))))))),l.a.createElement("div",{className:"row-grid"},l.a.createElement("div",{className:"grid-cell1"}),l.a.createElement("div",{className:"grid-cell2"},l.a.createElement("div",{className:"top-tags"},l.a.createElement(de.d,{initialValues:N,onSubmit:function(e,t){a(e),f(!1),t.setSubmitting(!1)},validationSchema:y},(function(e){var t=e.errors,a=e.touched;return l.a.createElement(de.c,{className:"login-form"},l.a.createElement("div",{className:"form-group mb-3"},l.a.createElement("label",{htmlFor:"username",className:"pb-2 font-weight-bold"},"Username"),l.a.createElement(de.b,{className:"form-control",type:"text",name:"username",id:"username",disabled:!0})),l.a.createElement("div",{className:"form-group mb-3"},l.a.createElement("label",{htmlFor:"firstName",className:"pb-2 font-weight-bold"},"Firstname"),l.a.createElement(de.b,{className:"form-control "+(t.firstName&&a.firstName?"invalid":""),type:"text",name:"firstName",id:"firstName",disabled:!p}),l.a.createElement(de.a,{name:"firstName",className:"formik-err-msg",component:"div"})),l.a.createElement("div",{className:"form-group mb-3"},l.a.createElement("label",{htmlFor:"lastName",className:"pb-2 font-weight-bold"},"Lastname"),l.a.createElement(de.b,{className:"form-control "+(t.lastName&&a.lastName?"invalid":""),type:"text",name:"lastName",id:"lastName",disabled:!p}),l.a.createElement(de.a,{name:"lastName",className:"formik-err-msg",component:"div"})),p&&l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"grid gs4 gsy fd-column js-auth-item "},l.a.createElement("button",{className:"btn btn-primary",id:"submit-button",name:"submit-button",type:"submit"},"Update")),l.a.createElement("div",{className:"grid gs4 gsy fd-column js-auth-item "},l.a.createElement("button",{className:"btn btn-danger",id:"cancel-button",name:"cancel-button"},"Cancel"))))})))))),l.a.createElement(ke.a,{show:b,onHide:h},l.a.createElement(ke.a.Body,null,"Are you sure you want to delete your account"),l.a.createElement(ke.a.Footer,null,l.a.createElement(Se.a,{variant:"secondary",onClick:h},"No"),l.a.createElement(Se.a,{variant:"primary",onClick:function(){n(),h()}},"Yes"))))}))),_e=(a(304),function(){return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"page"},l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"box__ghost"},l.a.createElement("div",{className:"symbol"}),l.a.createElement("div",{className:"symbol"}),l.a.createElement("div",{className:"symbol"}),l.a.createElement("div",{className:"symbol"}),l.a.createElement("div",{className:"symbol"}),l.a.createElement("div",{className:"symbol"}),l.a.createElement("div",{className:"box__ghost-container"},l.a.createElement("div",{className:"box__ghost-eyes"},l.a.createElement("div",{className:"box__eye-left"}),l.a.createElement("div",{className:"box__eye-right"})),l.a.createElement("div",{className:"box__ghost-bottom"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null))),l.a.createElement("div",{className:"box__ghost-shadow"})),l.a.createElement("div",{className:"box__description"},l.a.createElement("div",{className:"box__description-container"},l.a.createElement("div",{className:"box__description-title fc-black-800"},"Whoops!"),l.a.createElement("div",{className:"box__description-text fc-black-500"},"It seems like we couldn't find the page you were looking for")),l.a.createElement(m.b,{to:"/",className:"box__button"},"Back to home page")))))}),Re=q({component:H({component:ue}),title:"Tech Blog - Where Developers Learn, Share, & Build Careers"}),Ce=q({component:Ee,title:"Sign Up - Tech Blog"}),Ae=q({component:ve,title:"Log In - Tech Blog"}),Ie=q({component:je,title:"New Blog - Tech Blog"}),Pe=q({component:_e,title:"Error 404"}),Ue=H({component:he}),Le=H({component:Te}),Me=function(){return l.a.createElement(P.d,null,l.a.createElement(P.b,{exact:!0,path:"/",component:Re}),l.a.createElement(P.b,{exact:!0,path:"/register",component:Ce}),l.a.createElement(P.b,{exact:!0,path:"/login",component:Ae}),l.a.createElement(P.b,{exact:!0,path:"/post/:id",component:Ue}),l.a.createElement(P.b,{exact:!0,path:"/users/:id",component:Le}),l.a.createElement(P.b,{exact:!0,path:"/add/post",component:Ie}),l.a.createElement(P.b,{exact:!0,path:"/add/post/:id",component:Ie}),l.a.createElement(P.b,{exact:!0,path:"/dashboard",component:Re}),l.a.createElement(P.b,{path:"*",component:Pe}))};a.p;var Fe=function(e){var t=e.text,a=e.link,n=e.type,r=e.handleClick,c=e.marginTop;return l.a.createElement(s.Fragment,null,l.a.createElement(m.b,{onClick:r,to:a},l.a.createElement("button",{className:"s-btn ".concat(n),style:{marginTop:c}},t)))},De=(a(305),Object(u.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e(A("User has logged out","success")),localStorage.removeItem("token"),e({type:"LOGOUT"})}}})((function(e){var t=e.auth,a=t.isAuthenticated,n=t.loading,r=t.user,c=e.logout,o=Object(P.g)(),i=l.a.forwardRef((function(e,t){var a=e.children,n=e.onClick;return l.a.createElement("div",{"data-letters":(r.firstName.charAt(0)+r.lastName.charAt(0)).toUpperCase(),ref:t,onClick:function(e){e.preventDefault(),n(e)}},a)})),u=l.a.createElement("div",{className:"btns"},n||null===r?l.a.createElement(ie,{width:"50px",height:"50px"}):l.a.createElement(ge.a,null,l.a.createElement(ge.a.Toggle,{as:i,id:"dropdown-basic"}),l.a.createElement(ge.a.Menu,null,l.a.createElement(ge.a.Item,{href:"#/action-1"},l.a.createElement("div",{"data-letters":(r.firstName.charAt(0)+r.lastName.charAt(0)).toUpperCase()},r.username)),l.a.createElement(ge.a.Divider,null),l.a.createElement(ge.a.Item,{href:"/add/post"},"Create Post"),l.a.createElement(ge.a.Item,{href:"/users/"+r.id},"My Profile"),l.a.createElement(ge.a.Item,{href:"javascript:void(0)",onClick:c},"Sign out")))),d=l.a.createElement("div",{className:"btns"},l.a.createElement(Fe,{text:"Log in",link:"/login",type:"s-btn__primary"}),l.a.createElement(Fe,{text:"Sign up",link:"/register",type:"s-btn__filled"}));return n?"":l.a.createElement(s.Fragment,null,l.a.createElement("nav",{className:"navbar fixed-top navbar-expand-lg navbar-light bs-md"},l.a.createElement(m.b,{className:"navbar-brand",to:"/"},l.a.createElement("img",{src:"/blog.svg",alt:"",width:"200px"})),l.a.createElement("form",{id:"search",onSubmit:function(){return o.push("/questions")},className:"grid--cell fl-grow1 searchbar px12 js-searchbar",autoComplete:"off"},l.a.createElement("div",{className:"form-group has-search"},l.a.createElement("span",{className:"fa fa-search form-control-feedback"}),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search"}))),!n&&l.a.createElement(s.Fragment,null,a?u:d)))}))),Be=(a(306),Object(u.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return l.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.alertType," fw-normal")},e.msg)}))})));a(307),a(308);localStorage.token&&S(localStorage.token);var qe=function(){return Object(s.useEffect)((function(){x.dispatch(I())}),[]),l.a.createElement(D.b,null,l.a.createElement(u.a,{store:x},l.a.createElement("div",{className:"App"},l.a.createElement(De,null),l.a.createElement(Be,null),l.a.createElement(Me,null))))};k.a.interceptors.request.use((function(e){var t,a;if(!(null===(t=e.url)||void 0===t?void 0:t.includes("user/login"))&&!(null===(a=e.url)||void 0===a?void 0:a.includes("user/register"))){var n=localStorage.getItem("token"),r=null===n||void 0===n?void 0:n.replace(/^"(.*)"$/,"$1");e.headers.Authorization="Bearer "+r,e.headers["Cache-Control"]="no-cache",e.headers["Content-Type"]="application/json"}return e}),(function(e){return Promise.reject(e)})),k.a.interceptors.response.use((function(e){return e.status,e}),(function(e){return 401===e.response.status||e.response.data.message,Promise.reject(e)})),i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(m.a,null,l.a.createElement(qe,null))),document.getElementById("root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.e4a59e12.chunk.js.map